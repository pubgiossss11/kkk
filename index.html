
<!doctype html>
<html lang="vi">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Tập Hoá 2k</title>
<link rel="stylesheet" href="styles.css"></head>
<body>
<header class="header">
  <div class="brand"><div class="logo"><img src="assets/logo.svg" alt="T2K" style="width:36px;height:36px;border-radius:50%"></div><div class="site-title">Tập Hoá 2k</div></div>
  <div class="nav"><div id="statusArea" class="small">Đang tải...</div><button id="btnLogin" class="btn">Đăng nhập</button><button id="btnLogout" class="btn ghost hidden">Đăng xuất</button><button id="themeToggle" class="btn hide-mobile">Đổi giao diện</button></div>
</header>
<main class="container">
  <section class="card">
    <h2>Chúng tôi cung cấp</h2>
    <p class="small">Shop chuyên acc game, an toàn và nhanh chóng. Chọn sản phẩm và đặt hàng — chúng tôi sẽ liên hệ qua Telegram.</p>
  </section>

  <section class="card">
    <h3>Sản phẩm nổi bật</h3>
    <div id="products" class="grid"></div>
  </section>
</main>
<footer class="footer">© Tập Hoá 2k</footer>
<div class="fab">
  <button id="btnCart" class="btn primary">Giỏ hàng <span id="cartCount" class="count">0</span></button>
</div>
<script src="common.js"></script>
<script>
// sample products
const PRODUCTS = [
  {id:'p1', title:'Acc Valorant Silver', desc:'Rank Silver, email gốc', price:350000},
  {id:'p2', title:'Acc Liên Quân Bạch Kim', desc:'Nhiều skin', price:890000},
  {id:'p3', title:'Acc Genshin AR45', desc:'Nhân vật hiếm', price:1500000}
];
function renderProducts(){
  const wrap = document.getElementById('products'); wrap.innerHTML='';
  PRODUCTS.forEach(p=>{
    const el = document.createElement('div'); el.className='product card';
    el.innerHTML = `<div class="thumb">🎮</div><h4>${p.title}</h4><p class="small">${p.desc}</p><div class="row" style="justify-content:space-between"><div class="price">${fmt(p.price)}</div><button class="btn primary" data-id="${p.id}">Thêm</button></div>`;
    wrap.appendChild(el);
  });
}
let CART = JSON.parse(localStorage.getItem('cart')||'[]');
function saveCart(){ localStorage.setItem('cart', JSON.stringify(CART)); updateCartCount(); }
function updateCartCount(){ document.getElementById('cartCount').textContent = CART.reduce((s,i)=>s+i.qty,0); }
document.addEventListener('click', (e)=>{
  const btn = e.target.closest('[data-id]');
  if(btn){ const id = btn.dataset.id; const p = PRODUCTS.find(x=>x.id===id); const f = CART.find(x=>x.id===id); if(f) f.qty++; else CART.push({...p, qty:1}); saveCart(); alert('Đã thêm vào giỏ'); }
});
document.getElementById('btnCart').addEventListener('click', ()=>{ window.location.href='order.html'; });
document.getElementById('btnLogin').addEventListener('click', ()=>{ window.location.href='login.html'; });
document.getElementById('btnLogout').addEventListener('click', ()=>{ logout(); });
document.getElementById('themeToggle').addEventListener('click', ()=>{ toggleTheme(); });
renderProducts(); updateCartCount();
</script>
</body>
</html>
